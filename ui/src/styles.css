/**
 * Main Stylesheet
 * View-specific and component-specific styles only
 * Base styles in styles/ directory modules
 */

/* ========== DASHBOARD ========== */

.grid {
  flex: 1;
  display: grid;
  gap: var(--space-md);
  padding: var(--space-md);
  grid-template-columns: 380px 1fr;
  align-items: start;
}

.grid.single {
  grid-template-columns: 1fr;
}

.dashDense {
  display: grid;
  grid-template-columns: 380px 1fr 360px;
  gap: 14px;
  padding: var(--space-lg);
  align-items: start;
}

.dashLeft, .dashCenter, .dashRight {
  min-width: 0;
}

.plotsGrid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(360px, 1fr));
  gap: var(--space-md);
}

.plotsGrid > * {
  min-width: 0;
}

.devicePanel {
  display: flex;
  flex-direction: column;
  gap: var(--space-sm);
}

.deviceSearch {
  width: min(320px, 100%);
  padding: var(--space-sm) var(--space-md);
}

.deviceList {
  display: flex;
  flex-direction: column;
  gap: 6px;
  max-height: 360px;
  overflow: auto;
  padding-right: 4px;
}

.deviceRow {
  display: flex;
  align-items: center;
  gap: var(--space-sm);
  padding: var(--space-sm) var(--space-md);
  border-radius: var(--radius-md);
  border: 1px solid var(--glass-strong);
  background: var(--glass-light);
  cursor: pointer;
  text-align: left;
}

.deviceRow:hover {
  background: var(--glass-medium);
}

.deviceRow.active {
  border-color: var(--border);
  background: var(--glass-strong);
}

.deviceMain {
  display: flex;
  flex-direction: column;
  gap: 2px;
  min-width: 0;
  flex: 1;
}

.deviceId {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

/* ========== METRICS ========== */

.metricCard {
  border: 1px solid var(--glass-strong);
  border-radius: var(--radius-md);
  padding: var(--space-sm);
  background: var(--overlay-bg);
}

.metricCard.ok {
  border-color: var(--glass-strong);
}

.metricCard.stale {
  border-color: rgba(255, 200, 0, 0.45);
}

.metricCard.offline {
  border-color: rgba(255, 80, 80, 0.55);
}

.metricCard.warn {
  border-color: rgba(255, 200, 0, 0.5);
  background: rgba(255, 200, 0, 0.06);
}

.metricCard.critical {
  border-color: rgba(255, 80, 80, 0.6);
  background: rgba(255, 80, 80, 0.08);
}

.metricTop {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: var(--space-sm);
}

.metricLabel {
  font-size: var(--font-sm);
  opacity: 0.9;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.metricValue {
  font-size: 20px;
  font-weight: 800;
}

.metricValue.warn {
  color: rgba(255, 200, 0, 0.95);
}

.metricValue.critical {
  color: rgba(255, 80, 80, 0.95);
}

.metricUnit {
  font-size: var(--font-sm);
  opacity: 0.6;
  margin-left: 4px;
}

/* ========== NOTIFICATIONS ========== */

.notifList {
  display: flex;
  flex-direction: column;
  gap: var(--space-sm);
  max-height: 320px;
  overflow: auto;
  padding-right: 4px;
}

.notifRow {
  border-radius: var(--radius-md);
  padding: var(--space-sm);
  border: 1px solid var(--glass-strong);
  background: var(--glass-light);
}

.notifRow.ok {
  border-color: rgba(0, 255, 140, 0.28);
  background: rgba(0, 255, 140, 0.10);
}

.notifRow.warn {
  border-color: rgba(255, 200, 0, 0.30);
  background: rgba(255, 200, 0, 0.10);
}

.notifRow.bad {
  border-color: rgba(255, 80, 80, 0.35);
  background: rgba(255, 80, 80, 0.12);
}

.notifRow.info {
  border-color: rgba(120, 160, 255, 0.22);
  background: rgba(120, 160, 255, 0.08);
}

.notifTop {
  display: flex;
  align-items: baseline;
  justify-content: space-between;
  gap: var(--space-sm);
}

.notifTitle {
  font-weight: 900;
  font-size: var(--font-sm);
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.notifDetail {
  margin-top: 4px;
  font-size: var(--font-sm);
  line-height: 1.2;
}

/* ========== LOADING & ANIMATIONS ========== */

.loading-overlay {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.75);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  z-index: 1000;
  backdrop-filter: blur(4px);
}

.loading-spinner {
  width: 48px;
  height: 48px;
  border: 4px solid rgba(255, 255, 255, 0.2);
  border-top-color: rgba(46, 231, 255, 0.9);
  border-radius: 50%;
  animation: spin 1s linear infinite;
  margin-bottom: var(--space-lg);
}

.loading-text {
  color: var(--text);
  font-size: var(--font-lg);
  opacity: 0.9;
}

@keyframes spin {
  to {
    transform: rotate(360deg);
  }
}

.error-banner {
  position: fixed;
  top: 20px;
  right: 20px;
  background: rgba(255, 80, 80, 0.9);
  border: 1px solid rgba(255, 80, 80, 0.3);
  border-radius: var(--radius-md);
  padding: var(--space-lg);
  max-width: 400px;
  z-index: 1001;
  box-shadow: var(--shadow-md);
  animation: slideIn 0.3s ease-out;
}

@keyframes slideIn {
  from {
    transform: translateX(20px);
    opacity: 0;
  }
  to {
    transform: translateX(0);
    opacity: 1;
  }
}

/* ========== FLEET VIEW ========== */

.fleetViewMain {
  flex: 1;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  padding: var(--space-md);
  gap: var(--space-md);
}

.fleetViewHeader {
  flex-shrink: 0;
}

.fleetDeviceHeader {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: var(--space-md);
}

.fleetDeviceHeaderActions {
  font-size: var(--font-xs);
  color: var(--text-secondary);
}

.fleetClearFilterBtn {
  font-size: var(--font-xs);
  padding: 4px var(--space-sm);
}

/* ========== RAW VIEW ========== */

.rawViewMain {
  flex: 1;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  padding: var(--space-md);
  gap: var(--space-md);
}

.rawViewHeader {
  flex-shrink: 0;
  padding: var(--space-md);
  background: var(--overlay-light);
  border: 1px solid var(--border);
  border-radius: var(--radius-md);
}

.selectedDeviceIndicator {
  display: flex;
  align-items: center;
  gap: var(--space-sm);
}

.selectedDeviceLabel {
  font-size: var(--font-sm);
  color: var(--text-secondary);
  font-weight: 600;
}

.rawViewControls {
  display: flex;
  flex-direction: column;
  gap: var(--space-md);
}

.connectionStatus {
  display: flex;
  flex-direction: column;
  gap: 4px;
  padding: var(--space-sm);
  background: var(--surface-bg);
  border: 1px solid var(--border);
  border-radius: var(--radius-sm);
}

.connectionStatusLabel {
  font-size: var(--font-xs);
  color: var(--text-secondary);
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.connectionStatusValue {
  font-size: var(--font-sm);
  font-weight: 600;
  color: rgba(0, 255, 140, 0.9);
}

/* ========== DEVICE GROUPS ========== */

.deviceGroup {
  display: flex;
  flex-direction: column;
  gap: 4px;
  margin-bottom: var(--space-sm);
}

.groupHdr {
  display: flex;
  align-items: center;
  gap: var(--space-sm);
  font-size: var(--font-sm);
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  color: var(--text-secondary);
  padding: var(--space-xs) 0;
}

.groupBody {
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.deviceList.compact .deviceRow {
  padding: 6px var(--space-sm);
}

.deviceList.compact .deviceId {
  font-size: var(--font-sm);
}

.deviceRole {
  font-size: 11px;
  text-transform: uppercase;
  letter-spacing: 0.3px;
}

.deviceRight {
  display: flex;
  flex-direction: column;
  align-items: flex-end;
  gap: 2px;
}

.deviceSeen {
  font-size: 11px;
}

/* ========== NOTIFICATIONS ========== */

.notificationsRail {
  display: flex;
  flex-direction: column;
  gap: var(--space-md);
  height: 100%;
}

.stickyFaultsSection {
  display: flex;
  flex-direction: column;
  gap: var(--space-sm);
}

.stickyFaultsHeader {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: var(--space-sm);
  padding-bottom: var(--space-xs);
  border-bottom: 1px solid var(--border);
}

.stickyFaultsTitle {
  font-size: var(--font-sm);
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  color: var(--text-secondary);
}

.stickyFaultsCount {
  padding: 2px var(--space-xs);
  background: rgba(255, 80, 80, 0.2);
  border: 1px solid rgba(255, 80, 80, 0.4);
  border-radius: var(--radius-sm);
  font-size: 11px;
  font-weight: 700;
  color: rgba(255, 80, 80, 0.95);
}

.stickyFaultChip {
  display: flex;
  padding: var(--space-sm);
  background: rgba(255, 80, 80, 0.15);
  border: 1px solid rgba(255, 80, 80, 0.4);
  border-radius: var(--radius-md);
  cursor: pointer;
  transition: all 0.2s;
}

.stickyFaultChip:hover {
  background: rgba(255, 80, 80, 0.2);
  border-color: rgba(255, 80, 80, 0.6);
}

.stickyFaultContent {
  display: flex;
  align-items: center;
  gap: var(--space-sm);
  flex: 1;
  min-width: 0;
}

.stickyFaultIcon {
  font-size: var(--font-lg);
  color: rgba(255, 80, 80, 0.95);
}

.stickyFaultDevice {
  font-weight: 600;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.stickyFaultDetail {
  flex: 1;
  font-size: var(--font-sm);
  color: var(--text-secondary);
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.stickyFaultTime {
  font-size: 11px;
  white-space: nowrap;
}

.stickyFaultDismiss {
  padding: 4px var(--space-xs);
  background: rgba(255, 80, 80, 0.2);
  border: 1px solid rgba(255, 80, 80, 0.3);
  border-radius: var(--radius-sm);
  color: rgba(255, 80, 80, 0.95);
  font-size: 11px;
  cursor: pointer;
  transition: all 0.2s;
}

.stickyFaultDismiss:hover {
  background: rgba(255, 80, 80, 0.3);
  border-color: rgba(255, 80, 80, 0.5);
}

.notifCategoryFilters {
  display: flex;
  gap: var(--space-xs);
  flex-wrap: wrap;
  padding-bottom: var(--space-sm);
  border-bottom: 1px solid var(--border);
}

.notifCategoryChip {
  display: flex;
  align-items: center;
  gap: 4px;
  padding: 4px var(--space-sm);
  background: var(--glass-light);
  border: 1px solid var(--border);
  border-radius: 999px;
  font-size: 11px;
  cursor: pointer;
  transition: all 0.2s;
}

.notifCategoryChip:hover {
  background: var(--glass-medium);
}

.notifCategoryChip.active {
  background: var(--glass-strong);
  border-color: var(--accent);
  font-weight: 600;
}

.notifCategoryChip.ok {
  border-color: rgba(0, 255, 140, 0.3);
}

.notifCategoryChip.ok.active {
  background: rgba(0, 255, 140, 0.15);
  border-color: rgba(0, 255, 140, 0.5);
}

.notifCategoryChip.warn {
  border-color: rgba(255, 200, 0, 0.3);
}

.notifCategoryChip.warn.active {
  background: rgba(255, 200, 0, 0.15);
  border-color: rgba(255, 200, 0, 0.5);
}

.notifCategoryChip.bad {
  border-color: rgba(255, 80, 80, 0.3);
}

.notifCategoryChip.bad.active {
  background: rgba(255, 80, 80, 0.15);
  border-color: rgba(255, 80, 80, 0.5);
}

.notifCategoryChip.info {
  border-color: rgba(120, 160, 255, 0.3);
}

.notifCategoryChip.info.active {
  background: rgba(120, 160, 255, 0.15);
  border-color: rgba(120, 160, 255, 0.5);
}

.notifCategoryIcon {
  font-size: var(--font-md);
}

.notifCategoryCount {
  font-weight: 700;
}

.notifEmpty {
  padding: var(--space-xl);
  text-align: center;
  font-size: var(--font-sm);
}

.notifGroup {
  padding: var(--space-sm);
  background: var(--overlay-light);
  border: 1px solid var(--border);
  border-radius: var(--radius-md);
  cursor: pointer;
  transition: all 0.2s;
}

.notifGroup:hover {
  background: var(--overlay-medium);
  border-color: var(--accent);
}

.notifGroup.ok {
  border-color: rgba(0, 255, 140, 0.28);
  background: rgba(0, 255, 140, 0.08);
}

.notifGroup.warn {
  border-color: rgba(255, 200, 0, 0.30);
  background: rgba(255, 200, 0, 0.08);
}

.notifGroup.bad {
  border-color: rgba(255, 80, 80, 0.35);
  background: rgba(255, 80, 80, 0.10);
}

.notifGroup.info {
  border-color: rgba(120, 160, 255, 0.22);
  background: rgba(120, 160, 255, 0.08);
}

.notifGroup.new::before {
  content: '';
  position: absolute;
  left: 0;
  top: 0;
  bottom: 0;
  width: 3px;
  background: var(--accent);
  border-radius: var(--radius-md) 0 0 var(--radius-md);
}

.notifGroupHeader {
  display: flex;
  align-items: center;
  gap: var(--space-sm);
}

.notifGroupIcon {
  font-size: var(--font-xl);
}

.notifGroupContent {
  flex: 1;
  min-width: 0;
  display: flex;
  flex-direction: column;
  gap: 2px;
}

.notifGroupDevice {
  font-weight: 600;
  font-size: var(--font-sm);
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.notifGroupError {
  font-size: var(--font-sm);
  color: var(--text-secondary);
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.notifGroupMeta {
  display: flex;
  align-items: center;
  gap: var(--space-sm);
  font-size: 11px;
  color: var(--text-secondary);
}

.notifGroupCount {
  padding: 2px 6px;
  background: var(--glass-medium);
  border-radius: var(--radius-sm);
  font-weight: 700;
}

.notifGroupTime {
  white-space: nowrap;
}

.notifGroupExpand {
  font-size: 12px;
}

.notifGroupDetails {
  margin-top: var(--space-sm);
  padding-top: var(--space-sm);
  border-top: 1px solid var(--border);
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.notifGroupItem {
  display: flex;
  gap: var(--space-sm);
  padding: 6px var(--space-sm);
  background: var(--surface-bg);
  border-radius: var(--radius-sm);
  font-size: var(--font-sm);
}

.notifTime {
  font-family: var(--mono);
  font-size: 11px;
  color: var(--text-secondary);
  white-space: nowrap;
}

.notifMessage {
  flex: 1;
  line-height: 1.4;
}

.notifFooter {
  padding-top: var(--space-sm);
  border-top: 1px solid var(--border);
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: var(--space-sm);
}

/* ========== TOP CONTROL BAR ========== */

.topControlBar {
  display: flex;
  gap: var(--space-lg);
  align-items: flex-start;
}

.tcbLeft {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: var(--space-sm);
}

.tcbTitle {
  font-size: var(--font-lg);
  font-weight: 700;
}

.tcbTagSelector {
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.tcbTagSelect {
  padding: var(--space-sm) var(--space-md);
  background: var(--overlay-light);
  border: 1px solid var(--border);
  border-radius: var(--radius-md);
  color: var(--text);
  font-size: var(--font-sm);
}

/* ========== TIMELINE VIEW ========== */

.timelineViewMain {
  flex: 1;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  padding: var(--space-md);
}

.timelineControls {
  display: flex;
  gap: var(--space-md);
  margin-bottom: var(--space-md);
  flex-wrap: wrap;
}

.timelineFilters {
  display: flex;
  gap: var(--space-sm);
  flex-wrap: wrap;
}

.timelineFilterSelect {
  padding: var(--space-sm) var(--space-md);
  background: var(--overlay-light);
  border: 1px solid var(--border);
  border-radius: var(--radius-md);
  color: var(--text);
  font-size: var(--font-sm);
  cursor: pointer;
}

.timelineSearch {
  flex: 1;
  min-width: 200px;
}

.timelineSearchInput {
  width: 100%;
  padding: var(--space-sm) var(--space-md);
  background: var(--overlay-light);
  border: 1px solid var(--border);
  border-radius: var(--radius-md);
  color: var(--text);
  font-size: var(--font-sm);
}

.timelineSearchInput::placeholder {
  color: var(--text-secondary);
}

.timelineContainer {
  flex: 1;
  overflow-y: auto;
  padding: 2px;
}

.timelineEmpty {
  padding: var(--space-xl);
  text-align: center;
  color: var(--text-secondary);
  font-size: var(--font-sm);
}

.timelineDateGroup {
  margin-bottom: var(--space-lg);
}

.timelineDateHeader {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: var(--space-sm) 0;
  margin-bottom: var(--space-sm);
  font-size: var(--font-sm);
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  color: var(--text-secondary);
  border-bottom: 1px solid var(--border);
}

.timelineDateCount {
  font-size: var(--font-xs);
  font-weight: 400;
  color: var(--text-secondary);
}

.timelineItems {
  display: flex;
  flex-direction: column;
  gap: var(--space-sm);
}

.timelineItem {
  display: flex;
  gap: var(--space-md);
  padding: var(--space-md);
  background: var(--overlay-light);
  border: 1px solid var(--border);
  border-radius: var(--radius-md);
  transition: all 0.2s;
}

.timelineItem:hover {
  background: var(--overlay-medium);
  border-color: var(--accent);
}

.timelineIcon {
  font-size: var(--font-xl);
  line-height: 1;
}

.timelineContent {
  flex: 1;
  min-width: 0;
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.timelineHeader {
  display: flex;
  align-items: center;
  gap: var(--space-sm);
}

.timelineType {
  font-size: var(--font-xs);
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  padding: 2px 6px;
  background: var(--glass-medium);
  border-radius: var(--radius-sm);
}

.timelineTime {
  font-size: var(--font-xs);
  font-family: var(--mono);
  color: var(--text-secondary);
}

.timelineDevice {
  font-size: var(--font-sm);
  display: flex;
  align-items: center;
  gap: 4px;
}

.timelineDeviceLink {
  font-family: var(--mono);
  color: var(--accent);
  text-decoration: none;
  cursor: pointer;
  transition: color 0.2s;
}

.timelineDeviceLink:hover {
  color: var(--text);
  text-decoration: underline;
}

.timelineDetails {
  font-size: var(--font-sm);
  color: var(--text-secondary);
  line-height: 1.4;
}

.timelineDetails .mono {
  background: var(--surface-bg);
  padding: 2px 4px;
  border-radius: var(--radius-sm);
}

/* ========== FEED LIST ========== */

.feedList {
  display: flex;
  flex-direction: column;
  gap: var(--space-xs);
  overflow-y: auto;
}

.feedItem {
  padding: var(--space-sm);
  background: var(--overlay-light);
  border: 1px solid var(--border);
  border-radius: var(--radius-sm);
  font-size: var(--font-sm);
}

.feedItemHeader {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 4px;
}

.feedItemLabel {
  font-weight: 600;
  font-size: var(--font-xs);
  text-transform: uppercase;
  letter-spacing: 0.3px;
  color: var(--text-secondary);
}

.feedItemTime {
  font-family: var(--mono);
  font-size: 10px;
  color: var(--text-secondary);
}

.feedItemContent {
  font-family: var(--mono);
  font-size: var(--font-xs);
  line-height: 1.4;
  word-break: break-all;
}

/* ========== DEVICE DETAILS PANEL ========== */

.deviceDetailsPanel {
  display: flex;
  flex-direction: column;
  gap: var(--space-md);
}

.deviceDetailsPanel h3 {
  margin: var(--space-md) 0 var(--space-sm) 0;
  font-size: var(--font-md);
  border-bottom: 1px solid var(--border);
  padding-bottom: var(--space-xs);
}

.deviceDetailsPanel h3:first-child {
  margin-top: 0;
}

.tcbGroupLabel {
  margin-top: var(--space-sm);
  font-size: var(--font-xs);
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

/* ========== HEALTH SUMMARY BAR ========== */

.healthSummaryBar {
  padding: var(--space-md);
  background: var(--overlay-light);
  border: 1px solid var(--border);
  border-radius: var(--radius-md);
}

.healthSummaryBar__inner {
  display: flex;
  align-items: center;
  gap: var(--space-md);
  flex-wrap: wrap;
}

.healthSummaryBar__total {
  display: flex;
  align-items: center;
  gap: var(--space-sm);
}

.healthSummaryBar__totalLabel {
  font-size: var(--font-sm);
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  color: var(--text-secondary);
}

.healthSummaryBar__totalCount {
  font-size: var(--font-lg);
  font-weight: 800;
}

.healthSummaryBar__divider {
  width: 1px;
  height: 32px;
  background: var(--border);
}

.healthSummaryBar__stats {
  display: flex;
  gap: var(--space-sm);
  flex-wrap: wrap;
  flex: 1;
}

.healthStat {
  display: flex;
  align-items: center;
  gap: 6px;
  padding: 6px var(--space-md);
  background: var(--stat-bg);
  border: 1px solid var(--stat-border);
  border-radius: var(--radius-md);
  cursor: pointer;
  transition: all 0.2s;
}

.healthStat:hover {
  transform: translateY(-1px);
  box-shadow: var(--shadow-sm);
  filter: brightness(1.1);
}

.healthStat--active {
  border-width: 2px;
  box-shadow: var(--shadow-md);
}

.healthStat__icon {
  font-size: var(--font-lg);
}

.healthStat__count {
  font-size: var(--font-lg);
  font-weight: 800;
  color: var(--stat-color);
}

.healthStat__label {
  font-size: var(--font-xs);
  text-transform: uppercase;
  letter-spacing: 0.5px;
  font-weight: 700;
  color: var(--text-secondary);
}

.healthAlertBadge {
  display: flex;
  align-items: center;
  gap: 6px;
  padding: 6px var(--space-md);
  background: rgba(255, 80, 80, 0.15);
  border: 1px solid rgba(255, 80, 80, 0.4);
  border-radius: var(--radius-md);
  cursor: pointer;
  transition: all 0.2s;
}

.healthAlertBadge:hover {
  background: rgba(255, 80, 80, 0.2);
  border-color: rgba(255, 80, 80, 0.6);
  box-shadow: var(--shadow-sm);
}

.healthAlertBadge--active {
  border-width: 2px;
  box-shadow: var(--shadow-md);
}

.healthAlertBadge__icon {
  font-size: var(--font-lg);
}

.healthAlertBadge__count {
  font-size: var(--font-lg);
  font-weight: 800;
  color: rgba(255, 80, 80, 0.95);
}

.healthAlertBadge__label {
  font-size: var(--font-xs);
  text-transform: uppercase;
  letter-spacing: 0.5px;
  font-weight: 700;
  color: rgba(255, 80, 80, 0.95);
}

.healthSummaryBar__clearFilter {
  padding: 4px var(--space-sm);
  background: var(--glass-light);
  border: 1px solid var(--border);
  border-radius: var(--radius-sm);
  color: var(--text-secondary);
  font-size: 11px;
  cursor: pointer;
  transition: all 0.2s;
}

.healthSummaryBar__clearFilter:hover {
  background: var(--glass-medium);
  color: var(--text);
}

/* Compact variant */
.healthSummaryCompact {
  display: flex;
  gap: var(--space-sm);
  padding: var(--space-sm);
  background: var(--overlay-light);
  border: 1px solid var(--border);
  border-radius: var(--radius-md);
}

.healthSummaryCompact__stat {
  display: flex;
  align-items: center;
  gap: 4px;
  padding: 4px var(--space-sm);
  border-radius: var(--radius-sm);
  font-size: var(--font-sm);
  cursor: pointer;
  transition: all 0.2s;
}

.healthSummaryCompact__stat:hover {
  background: var(--glass-medium);
}

.healthSummaryCompact__stat--healthy {
  color: rgba(0, 255, 140, 0.95);
}

.healthSummaryCompact__stat--warning {
  color: rgba(255, 200, 0, 0.95);
}

.healthSummaryCompact__stat--offline {
  color: rgba(255, 80, 80, 0.95);
}

.healthSummaryCompact__icon {
  font-size: var(--font-md);
}

/* ========== FLEET STATUS STRIP ========== */

.fleetStatusStrip {
  display: flex;
  gap: var(--space-md);
  padding: var(--space-md);
  background: var(--overlay-light);
  border: 1px solid var(--border);
  border-radius: var(--radius-md);
}

.fleetStatusItem {
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.fleetStatusLabel {
  font-size: var(--font-xs);
  text-transform: uppercase;
  letter-spacing: 0.5px;
  color: var(--text-secondary);
  font-weight: 700;
}

.fleetStatusValue {
  font-size: var(--font-xl);
  font-weight: 800;
}

.fleetStatusValue.online {
  color: rgba(0, 255, 140, 0.95);
}

.fleetStatusValue.stale {
  color: rgba(255, 200, 0, 0.95);
}

.fleetStatusValue.offline {
  color: rgba(255, 80, 80, 0.95);
}

/* ========== SPARKLINE ========== */

.sparkline {
  width: 100%;
  height: 32px;
}

.sparkline svg {
  width: 100%;
  height: 100%;
}

.sparklinePath {
  fill: none;
  stroke: var(--accent);
  stroke-width: 1.5;
  stroke-linecap: round;
  stroke-linejoin: round;
}

.sparklineArea {
  fill: rgba(46, 231, 255, 0.1);
}

.sparklineDot {
  fill: var(--accent);
  r: 2;
}

/* ========== AUTHORITY CONTROL ========== */

.authorityPanel {
  padding: var(--space-md);
  background: var(--overlay-light);
  border: 1px solid var(--border);
  border-radius: var(--radius-md);
}

.authorityLevel {
  display: flex;
  gap: var(--space-sm);
  margin-bottom: var(--space-md);
}

.authorityLevelBtn {
  flex: 1;
  padding: var(--space-sm) var(--space-md);
  background: var(--glass-light);
  border: 1px solid var(--border);
  border-radius: var(--radius-md);
  color: var(--text-secondary);
  font-size: var(--font-sm);
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s;
}

.authorityLevelBtn:hover {
  background: var(--glass-medium);
  color: var(--text);
}

.authorityLevelBtn.active {
  background: var(--accent);
  border-color: var(--accent);
  color: var(--surface-bg);
}

.authorityLevelBtn.view {
  background: rgba(120, 160, 255, 0.15);
  border-color: rgba(120, 160, 255, 0.3);
}

.authorityLevelBtn.view.active {
  background: rgba(120, 160, 255, 0.8);
  color: var(--surface-bg);
}

.authorityLevelBtn.control {
  background: rgba(255, 200, 0, 0.15);
  border-color: rgba(255, 200, 0, 0.3);
}

.authorityLevelBtn.control.active {
  background: rgba(255, 200, 0, 0.8);
  color: var(--surface-bg);
}

.authorityLevelBtn.armed {
  background: rgba(255, 80, 80, 0.15);
  border-color: rgba(255, 80, 80, 0.4);
}

.authorityLevelBtn.armed.active {
  background: rgba(255, 80, 80, 0.8);
  color: white;
}

.authorityTimer {
  padding: var(--space-sm);
  background: rgba(255, 200, 0, 0.1);
  border: 1px solid rgba(255, 200, 0, 0.3);
  border-radius: var(--radius-sm);
  font-size: var(--font-sm);
  text-align: center;
  font-family: var(--mono);
  color: rgba(255, 200, 0, 0.95);
}

.authorityGate {
  padding: var(--space-md);
  background: rgba(255, 80, 80, 0.1);
  border: 1px solid rgba(255, 80, 80, 0.3);
  border-radius: var(--radius-md);
  text-align: center;
}

.authorityGateMessage {
  font-size: var(--font-sm);
  color: rgba(255, 80, 80, 0.95);
  margin-bottom: var(--space-sm);
}

/* ========== COMMAND QUEUE ========== */

.cmdIntentSummary {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(80px, 1fr));
  gap: var(--space-sm);
  margin: var(--space-md) 0;
  padding: var(--space-md);
  background: var(--surface-bg);
  border: 1px solid var(--border);
  border-radius: var(--radius-md);
}

.cmdIntentStat {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 4px;
  padding: var(--space-sm);
  border-radius: var(--radius-sm);
  background: var(--overlay-light);
}

.cmdIntentStat.active {
  background: rgba(46, 231, 255, 0.15);
  border: 1px solid var(--accent);
}

.cmdIntentStat.ok {
  background: rgba(0, 255, 140, 0.08);
}

.cmdIntentStat.warn {
  background: rgba(255, 200, 0, 0.08);
}

.cmdIntentStat.bad {
  background: rgba(255, 80, 80, 0.08);
}

.cmdIntentNum {
  font-size: var(--font-xl);
  font-weight: 800;
}

.cmdIntentLabel {
  font-size: 10px;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  color: var(--text-secondary);
}

/* Staged Commands */
.cmdStagedRow {
  display: flex;
  flex-direction: column;
  gap: var(--space-sm);
  padding: var(--space-md);
  background: var(--overlay-light);
  border: 1px solid var(--border);
  border-radius: var(--radius-md);
  margin-bottom: var(--space-sm);
}

.cmdStagedRow.danger {
  border-color: rgba(255, 80, 80, 0.4);
  background: rgba(255, 80, 80, 0.08);
}

.cmdStagedHeader {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: var(--space-sm);
}

.cmdStagedTarget {
  display: flex;
  align-items: center;
  gap: var(--space-sm);
  flex-wrap: wrap;
}

.cmdStagedDevice {
  font-family: var(--mono);
  font-weight: 600;
  font-size: var(--font-sm);
}

.cmdStagedAction {
  font-family: var(--mono);
  font-size: var(--font-sm);
  color: var(--accent);
}

.cmdStagedBroadcast {
  font-size: var(--font-xs);
  padding: 2px 6px;
  background: var(--glass-medium);
  border-radius: var(--radius-sm);
  color: var(--text-secondary);
}

.cmdStagedDanger {
  font-size: var(--font-xs);
  font-weight: 700;
  padding: 2px var(--space-xs);
  background: rgba(255, 80, 80, 0.2);
  border: 1px solid rgba(255, 80, 80, 0.4);
  border-radius: var(--radius-sm);
  color: rgba(255, 80, 80, 0.95);
}

.cmdStagedDetails {
  display: flex;
  flex-direction: column;
  gap: var(--space-xs);
}

.cmdStagedTopic,
.cmdStagedPayload {
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.cmdStagedTopicLabel,
.cmdStagedPayloadLabel {
  font-size: 10px;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  color: var(--text-secondary);
  font-weight: 700;
}

.cmdStagedTopicValue {
  font-size: var(--font-xs);
  color: var(--text-secondary);
}

.cmdStagedPayloadValue {
  margin: 0;
  padding: var(--space-sm);
  background: var(--surface-bg);
  border: 1px solid var(--border);
  border-radius: var(--radius-sm);
  font-family: var(--mono);
  font-size: var(--font-xs);
  line-height: 1.4;
  overflow-x: auto;
}

.cmdStagedActions {
  display: flex;
  gap: var(--space-sm);
}

.cmdStagedExecute {
  flex: 1;
  padding: var(--space-sm) var(--space-md);
  font-weight: 600;
}

.cmdStagedCancel {
  padding: var(--space-sm) var(--space-md);
}

/* Command Queue Rows */
.cmdQueueRow {
  display: flex;
  flex-direction: column;
  gap: var(--space-xs);
  padding: var(--space-sm) var(--space-md);
  background: var(--overlay-light);
  border: 1px solid var(--border);
  border-radius: var(--radius-md);
  margin-bottom: var(--space-xs);
  transition: all 0.2s;
}

.cmdQueueRow:hover {
  background: var(--overlay-medium);
  border-color: var(--accent);
}

.cmdQueueRow.pending {
  border-left: 3px solid rgba(46, 231, 255, 0.6);
}

.cmdQueueRow.history.ok {
  border-left: 3px solid rgba(0, 255, 140, 0.6);
}

.cmdQueueRow.history.warn {
  border-left: 3px solid rgba(255, 200, 0, 0.6);
}

.cmdQueueRow.history.bad {
  border-left: 3px solid rgba(255, 80, 80, 0.6);
}

.cmdQueueRowTop {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: var(--space-sm);
}

.cmdQueueTarget {
  display: flex;
  align-items: center;
  gap: var(--space-sm);
  flex: 1;
  min-width: 0;
}

.cmdQueueDevice {
  font-family: var(--mono);
  font-weight: 600;
  font-size: var(--font-sm);
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.cmdQueueAction {
  font-family: var(--mono);
  font-size: var(--font-sm);
  color: var(--accent);
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.cmdQueueRowRight {
  display: flex;
  align-items: center;
  gap: var(--space-sm);
}

.cmdQueueProgress {
  height: 3px;
  background: var(--glass-light);
  border-radius: 999px;
  overflow: hidden;
}

.cmdQueueProgressBar {
  height: 100%;
  background: linear-gradient(90deg, var(--accent), rgba(46, 231, 255, 0.5));
  transition: width 0.3s ease-out;
}

.cmdQueueRowMeta {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: var(--space-sm);
  font-size: 11px;
  color: var(--text-secondary);
}

.cmdQueueElapsed,
.cmdQueueTime,
.cmdQueueId {
  font-size: 11px;
}

.cmdQueueExpandBtn,
.cmdRetryBtn,
.cmdCancelBtn {
  padding: 4px var(--space-sm);
  background: var(--glass-light);
  border: 1px solid var(--border);
  border-radius: var(--radius-sm);
  color: var(--text-secondary);
  font-size: 11px;
  cursor: pointer;
  transition: all 0.2s;
}

.cmdQueueExpandBtn:hover,
.cmdRetryBtn:hover {
  background: var(--glass-medium);
  color: var(--text);
}

.cmdCancelBtn {
  background: rgba(255, 80, 80, 0.15);
  border-color: rgba(255, 80, 80, 0.3);
  color: rgba(255, 80, 80, 0.95);
}

.cmdCancelBtn:hover {
  background: rgba(255, 80, 80, 0.25);
  border-color: rgba(255, 80, 80, 0.5);
}

.cmdQueueDetails {
  display: flex;
  flex-direction: column;
  gap: var(--space-xs);
  padding-top: var(--space-xs);
  border-top: 1px solid var(--border);
}

.cmdQueueError {
  display: flex;
  flex-direction: column;
  gap: 4px;
  padding: var(--space-sm);
  background: rgba(255, 80, 80, 0.1);
  border: 1px solid rgba(255, 80, 80, 0.3);
  border-radius: var(--radius-sm);
}

.cmdQueueErrorLabel {
  font-size: 10px;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  font-weight: 700;
  color: rgba(255, 80, 80, 0.95);
}

.cmdQueueErrorText {
  font-size: var(--font-xs);
  font-family: var(--mono);
  color: rgba(255, 80, 80, 0.95);
}

.cmdQueuePayload {
  margin: 0;
  padding: var(--space-sm);
  background: var(--surface-bg);
  border: 1px solid var(--border);
  border-radius: var(--radius-sm);
  font-family: var(--mono);
  font-size: var(--font-xs);
  line-height: 1.4;
  overflow-x: auto;
}

/* Status Badges */
.statusBadge {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  padding: 2px 6px;
  border-radius: var(--radius-sm);
  font-size: 10px;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.3px;
  white-space: nowrap;
}

.statusBadge.pending {
  background: rgba(46, 231, 255, 0.15);
  border: 1px solid rgba(46, 231, 255, 0.3);
  color: rgba(46, 231, 255, 0.95);
}

.statusBadge.sent {
  background: rgba(120, 160, 255, 0.15);
  border: 1px solid rgba(120, 160, 255, 0.3);
  color: rgba(120, 160, 255, 0.95);
}

.statusBadge.ok {
  background: rgba(0, 255, 140, 0.15);
  border: 1px solid rgba(0, 255, 140, 0.3);
  color: rgba(0, 255, 140, 0.95);
}

.statusBadge.warn {
  background: rgba(255, 200, 0, 0.15);
  border: 1px solid rgba(255, 200, 0, 0.3);
  color: rgba(255, 200, 0, 0.95);
}

.statusBadge.bad {
  background: rgba(255, 80, 80, 0.15);
  border: 1px solid rgba(255, 80, 80, 0.3);
  color: rgba(255, 80, 80, 0.95);
}

.statusBadge.muted {
  background: var(--glass-medium);
  border: 1px solid var(--border);
  color: var(--text-secondary);
}

/* ========== COMMAND TEMPLATES ========== */

.commandTemplates {
  display: flex;
  flex-direction: column;
  gap: var(--space-md);
  height: 100%;
}

.commandTemplates.collapsed .cmdTemplatesControls,
.commandTemplates.collapsed .cmdTemplatesGrid,
.commandTemplates.collapsed .cmdTemplatesNoDevice {
  display: none;
}

.cmdTemplatesHeader {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: var(--space-md);
  padding-bottom: var(--space-md);
  border-bottom: 1px solid var(--border);
}

.cmdTemplatesHeaderLeft {
  display: flex;
  align-items: center;
  gap: var(--space-sm);
}

.cmdTemplatesCollapseBtn {
  background: none;
  border: none;
  color: var(--text-secondary);
  cursor: pointer;
  padding: var(--space-xs);
  font-size: var(--font-lg);
  line-height: 1;
}

.cmdTemplatesCollapseBtn:hover {
  color: var(--text);
}

.cmdTemplatesTitle {
  margin: 0;
  font-size: var(--font-lg);
}

.cmdTemplatesTabs {
  display: flex;
  gap: var(--space-xs);
}

.cmdTemplatesTab {
  padding: var(--space-xs) var(--space-md);
  background: var(--glass-light);
  border: 1px solid var(--border);
  border-radius: var(--radius-md);
  color: var(--text-secondary);
  cursor: pointer;
  font-size: var(--font-sm);
  transition: all 0.2s;
}

.cmdTemplatesTab:hover {
  background: var(--glass-medium);
  color: var(--text);
}

.cmdTemplatesTab.active {
  background: var(--glass-strong);
  color: var(--text);
  border-color: var(--accent);
}

.cmdTemplatesNewBtn {
  padding: var(--space-xs) var(--space-md);
  font-size: var(--font-sm);
}

.cmdTemplatesControls {
  display: flex;
  flex-direction: column;
  gap: var(--space-sm);
}

.cmdTemplatesSearch {
  width: 100%;
  padding: var(--space-sm) var(--space-md);
  background: var(--overlay-light);
  border: 1px solid var(--border);
  border-radius: var(--radius-md);
  color: var(--text);
  font-size: var(--font-sm);
}

.cmdTemplatesSearch::placeholder {
  color: var(--text-secondary);
}

.cmdTemplatesCategoryFilters {
  display: flex;
  gap: var(--space-xs);
  flex-wrap: wrap;
}

.cmdTemplatesCategoryBtn {
  padding: var(--space-xs) var(--space-sm);
  background: var(--glass-light);
  border: 1px solid var(--border);
  border-radius: var(--radius-md);
  color: var(--text-secondary);
  cursor: pointer;
  font-size: var(--font-xs);
  text-transform: uppercase;
  letter-spacing: 0.5px;
  transition: all 0.2s;
}

.cmdTemplatesCategoryBtn:hover {
  background: var(--glass-medium);
  color: var(--text);
}

.cmdTemplatesCategoryBtn.active {
  background: var(--accent);
  color: var(--surface-bg);
  border-color: var(--accent);
}

.cmdTemplatesNoDevice {
  padding: var(--space-lg);
  text-align: center;
  color: var(--text-secondary);
  font-size: var(--font-sm);
  background: var(--overlay-light);
  border: 1px solid var(--border);
  border-radius: var(--radius-md);
}

.cmdTemplatesGrid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
  gap: var(--space-md);
  overflow-y: auto;
  padding: 2px;
}

.cmdTemplatesEmpty {
  grid-column: 1 / -1;
  padding: var(--space-xl);
  text-align: center;
  color: var(--text-secondary);
  font-size: var(--font-sm);
}

/* Template Card */
.cmdTemplateCard {
  display: flex;
  flex-direction: column;
  gap: var(--space-sm);
  padding: var(--space-md);
  background: var(--overlay-light);
  border: 1px solid var(--border);
  border-radius: var(--radius-md);
  transition: all 0.2s;
}

.cmdTemplateCard:hover {
  background: var(--overlay-medium);
  border-color: var(--accent);
  box-shadow: var(--shadow-md);
}

.cmdTemplateCard.danger {
  border-color: rgba(255, 80, 80, 0.4);
  background: rgba(255, 80, 80, 0.05);
}

.cmdTemplateCard.danger:hover {
  border-color: rgba(255, 80, 80, 0.6);
  background: rgba(255, 80, 80, 0.08);
}

.cmdTemplateCard.executing {
  border-color: var(--accent);
  background: rgba(46, 231, 255, 0.08);
  animation: pulse 2s ease-in-out infinite;
}

@keyframes pulse {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.7;
  }
}

.cmdTemplateCardTop {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  gap: var(--space-sm);
}

.cmdTemplateInfo {
  display: flex;
  flex-direction: column;
  gap: 4px;
  flex: 1;
  min-width: 0;
}

.cmdTemplateName {
  font-weight: 700;
  font-size: var(--font-md);
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.cmdTemplateAction {
  font-size: var(--font-xs);
  color: var(--text-secondary);
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.cmdTemplateCategory {
  padding: 2px var(--space-xs);
  background: var(--glass-medium);
  border: 1px solid var(--border);
  border-radius: var(--radius-sm);
  font-size: 10px;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  color: var(--text-secondary);
  white-space: nowrap;
}

.cmdTemplateDesc {
  font-size: var(--font-sm);
  color: var(--text-secondary);
  line-height: 1.4;
}

.cmdTemplateArgs {
  padding: var(--space-xs) var(--space-sm);
  background: var(--surface-bg);
  border: 1px solid var(--border);
  border-radius: var(--radius-sm);
  font-size: var(--font-xs);
  color: var(--text-secondary);
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.cmdTemplateActions {
  display: flex;
  gap: var(--space-xs);
  margin-top: var(--space-xs);
}

.cmdTemplateExecBtn {
  flex: 1;
  padding: var(--space-sm);
  font-size: var(--font-sm);
  font-weight: 600;
}

.cmdTemplateBtn {
  padding: var(--space-xs) var(--space-sm);
  background: var(--glass-light);
  border: 1px solid var(--border);
  border-radius: var(--radius-sm);
  color: var(--text-secondary);
  cursor: pointer;
  font-size: var(--font-sm);
  transition: all 0.2s;
}

.cmdTemplateBtn:hover {
  background: var(--glass-medium);
  color: var(--text);
}

.cmdTemplateBtn.danger:hover {
  background: rgba(255, 80, 80, 0.2);
  border-color: rgba(255, 80, 80, 0.5);
  color: rgba(255, 80, 80, 0.95);
}

/* Scenario-specific styles */
.cmdTemplateHeader {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: var(--space-sm);
}

.cmdTemplateDescription {
  font-size: var(--font-sm);
  color: var(--text-secondary);
  line-height: 1.4;
}

.scenarioSteps {
  display: flex;
  flex-direction: column;
  gap: var(--space-xs);
}

.scenarioStepsHeader {
  font-size: var(--font-xs);
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  color: var(--text-secondary);
}

.scenarioStepsList {
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.scenarioStep {
  display: flex;
  align-items: center;
  gap: var(--space-xs);
  padding: 4px var(--space-sm);
  background: var(--surface-bg);
  border: 1px solid var(--border);
  border-radius: var(--radius-sm);
  font-size: var(--font-xs);
  transition: all 0.2s;
}

.scenarioStep.current {
  background: rgba(46, 231, 255, 0.15);
  border-color: var(--accent);
  font-weight: 600;
}

.scenarioStep.completed {
  opacity: 0.6;
}

.scenarioStepNumber {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 18px;
  height: 18px;
  background: var(--glass-medium);
  border-radius: 50%;
  font-size: 10px;
  font-weight: 700;
  color: var(--text-secondary);
}

.scenarioStep.current .scenarioStepNumber {
  background: var(--accent);
  color: var(--surface-bg);
}

.scenarioStepAction {
  flex: 1;
  font-family: var(--mono);
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.scenarioStepWait {
  font-size: 10px;
  color: var(--text-secondary);
}

.cmdTemplateExecute {
  width: 100%;
  padding: var(--space-sm);
  font-size: var(--font-sm);
  font-weight: 600;
  margin-top: var(--space-xs);
}

.cmdTemplateExecute.disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

/* Template Editor Modal */
.cmdTemplateEditorOverlay {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.75);
  backdrop-filter: blur(4px);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
  padding: var(--space-lg);
}

.cmdTemplateEditor {
  background: var(--surface-bg);
  border: 1px solid var(--border);
  border-radius: var(--radius-md);
  box-shadow: var(--shadow-lg);
  width: min(540px, 100%);
  max-height: 90vh;
  display: flex;
  flex-direction: column;
  overflow: hidden;
}

.cmdTemplateEditorHeader {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: var(--space-lg);
  border-bottom: 1px solid var(--border);
}

.cmdTemplateEditorHeader h3 {
  margin: 0;
  font-size: var(--font-lg);
}

.cmdTemplateEditorClose {
  background: none;
  border: none;
  color: var(--text-secondary);
  cursor: pointer;
  font-size: var(--font-xl);
  line-height: 1;
  padding: var(--space-xs);
}

.cmdTemplateEditorClose:hover {
  color: var(--text);
}

.cmdTemplateEditorError {
  padding: var(--space-md);
  margin: var(--space-lg) var(--space-lg) 0;
  background: rgba(255, 80, 80, 0.15);
  border: 1px solid rgba(255, 80, 80, 0.4);
  border-radius: var(--radius-md);
  color: rgba(255, 80, 80, 0.95);
  font-size: var(--font-sm);
}

.cmdTemplateEditorForm {
  padding: var(--space-lg);
  overflow-y: auto;
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: var(--space-md);
}

.cmdTemplateEditorRow {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: var(--space-md);
}

.cmdTemplateEditorCheckbox {
  display: flex;
  align-items: center;
  gap: var(--space-sm);
  padding-top: var(--space-lg);
}

.cmdTemplateEditorCheckbox input[type="checkbox"] {
  width: auto;
}

.cmdTemplateEditorActions {
  display: flex;
  gap: var(--space-sm);
  justify-content: flex-end;
  padding: var(--space-lg);
  border-top: 1px solid var(--border);
}

/* ========== VIEW-SPECIFIC LAYOUTS ========== */

/* Base view grid */
.view-grid {
  display: grid;
  gap: var(--space-md);
  height: 100%;
}

/* Fleet View: 2-column layout (Device Grid | Detail+Timeline) */
.view-grid--fleet {
  grid-template-columns: 1fr 1fr;
  grid-template-rows: auto 1fr;
}

.fleet-right-column {
  display: flex;
  flex-direction: column;
  gap: var(--space-md);
  height: 100%;
}

.fleet-timeline {
  flex: 1;
  min-height: 0;
  overflow: hidden;
}

/* Commands View: 3-column layout (Device Selection | Command Center | Templates) */
.view-grid--commands {
  grid-template-columns: 280px 1fr 1fr;
  grid-template-rows: 1fr;
}

.commands-device-selection {
  grid-row: 1 / -1;
  overflow: hidden;
}

.commands-command-center,
.commands-templates {
  display: flex;
  flex-direction: column;
  gap: var(--space-md);
}

/* Raw View: 2-column layout */
.view-grid--raw {
  grid-template-columns: 1fr 1fr;
}

/* ========== RESPONSIVE ========== */

@media (max-width: 1250px) {
  .dashDense {
    grid-template-columns: 360px 1fr;
  }
  
  .dashRight {
    grid-column: 1 / -1;
  }
}

@media (max-width: 1200px) {
  .view-grid--fleet {
    grid-template-columns: 1fr;
  }
  
  .fleet-right-column {
    grid-column: 1;
  }
}

@media (max-width: 980px) {
  .grid {
    grid-template-columns: 1fr;
  }
  
  .dashDense {
    grid-template-columns: 1fr;
  }
  
  .view-grid--commands {
    grid-template-columns: 1fr;
  }
  
  .commands-device-selection {
    grid-row: auto;
    max-height: 300px;
  }
}
